(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[67897],{631110:(e,t,i)=>{"use strict";i.d(t,{t:()=>s});const s=i.tf},128563:(e,t,i)=>{e.exports=[{name:i.tf(null,void 0,i(695271)),value:"",search_type:"undefined"},{name:i.tf(null,void 0,i(426294)),value:"stocks",search_type:"stocks"},{name:i.tf(null,void 0,i(301992)),value:"funds",search_type:"funds"},{name:i.tf(null,void 0,i(468631)),value:"futures",search_type:"futures"},{name:i.tf(null,void 0,i(324241)),value:"forex",search_type:"forex"},{name:i.tf(null,void 0,i(494695)),value:"cfd",search_type:"cfd"},{name:i.tf(null,void 0,i(612760)),value:"bitcoin,crypto",search_type:"crypto"},{name:i.tf(null,void 0,i(433468)),value:"index",search_type:"index"},{name:i.tf(null,void 0,i(290368)),value:"bond",search_type:"bond"},{name:i.tf(null,void 0,i(337556)),value:"economic",search_type:"economic"}]},799402:(e,t,i)=>{"use strict";i.d(t,{AuthToken:()=>a});var s=i(707957),o=i(201089),r=i(120780);const n=(0,o.getLogger)("ChartApi.AuthToken",{color:"#173"});class a{constructor(){this.invalidated=new s.Delegate,this._tid=0,window.loginStateChange||(window.loginStateChange=new s.Delegate),window.loginStateChange.subscribe(this,(e=>{e||(this._set(window.user.auth_token),this.invalidated.fire())})),this._set(window.user.auth_token)}get(e){return window.is_authenticated?!e&&performance.now()<this._cache.monoValidThru&&Date.now()<this._cache.wallValidThru?(n.logInfo(`Using cached token ${this._cache.token}`),Promise.resolve(this._cache.token)):this._fetch(Boolean(e),0).then((e=>{if(!window.is_authenticated)throw new Error("User logged out while the request was in flight");return this._set(e),e})).catch((e=>(n.logError(`Error fetching new token: ${e&&e.message}`),""))):Promise.resolve("")}reset(){this._set(void 0),this.invalidated.fire()}_set(e){if(window.is_authenticated&&void 0!==e){const t=function(e){if(""===e)return 144e5;try{const t=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),i=1e3*(t.exp-t.iat);if(!isFinite(i))throw new Error("invalid expiration");return Math.max(i-3e5,3e5)}catch(t){return n.logError(`${e} is invalid: ${t.message}`),144e5}}(e);this._cache={token:e,monoValidThru:performance.now()+t,wallValidThru:Date.now()+t},clearTimeout(this._tid),this._tid=setTimeout((()=>this.reset()),t),n.logInfo(`Cached for ${t} ms: ${e}`)}else this._cache={token:"",monoValidThru:-1/0,wallValidThru:-1/0},clearTimeout(this._tid),n.logInfo("Cache dropped")}_fetch(e,t){return n.logNormal(`Fetching a new token, grabSession=${e}`),(0,r.fetch)("/quote_token/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e?"grabSession=true":""}).then((e=>{if(!e.ok)throw new Error(`Response status is not ok: ${e.status}`);return e.json().then(String)}),(i=>{if(t>=3)throw i;return n.logWarn("Request failed, will retry"),function(e){return new Promise((t=>setTimeout(t,1e3*e)))}(t).then((()=>this._fetch(e,t+1)))}))}}},259186:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TVChartApiBase:()=>x});var s=i(12481),o=i(203308),r=i(822914),n=i(650151)
;const a=JSON.parse('{"adx":"widget_user_token-adx","adxD":"widget_user_token-adxD","agencialbmcombr":"widget_user_token-agencialbmcombr","aljaziracapitalD":"widget_user_token-aljaziracapitalD","aljaziracapitalRT":"widget_user_token-aljaziracapitalRT","ambito":"widget_user_token-ambito","artechecom":"widget_user_token-ArtecheD","atlcapital":"widget_user_token-atlcapital","bankirosru":"widget_user_token-bankirosru","bbvach":"widget_user_token-bbvach","beeksgroup":"widget_user_token-beeksgroup","belugagroupru":"widget_user_token-belugagroupru","bluefield":"widget_user_token-bluefield","bluelinefutures":"widget_user_token-bluelinefutures","bovespa":"widget_user_token-bmfbovespacombr","championnatbourse":"widget_user_token-championnatbourse","cincodias":"widget_user_token-cincodias","ceocaD":"widget_user_token-ceocaD","ceocaRT":"widget_user_token-ceocaRT","copees":"widget_user_token-copees","cselk":"widget_user_token-cselk","dailyfx":"widget_user_token-dailyfx","dolarhoy":"widget_user_token-dolarhoy","easynvestcombr":"widget_user_token-easynvestcombr","elconfidencial":"widget_user_token-elconfidencial","elespanolcom":"widget_user_token-elespanolcom","elobreroes":"widget_user_token-elobreroes","elnacionalD":"widget_user_token-ElNacionalD","elpaisfinanciero":"widget_user_token-elpaisfinanciero","euqueroinvestir":"widget_user_token-euqueroinvestircom","eurex":"widget_user_token-eurex","eurofins":"widget_user_token-eurofins","epe":"widget_user_token-epe","europapresses":"widget_user_token-europapresses","finanzasD":"widget_user_token-FinanzasD","forbescombr":"widget_user_token-forbescombr","genialinvestimentos":"widget_user_token-genialinvestimentos","healthitalia":"widget_user_token-healthitalia","hegnarno":"widget_user_token-hegnarno","hipotecariocomar":"widget_user_token-hipotecariocomar","investegatecouk":"widget_user_token-investegatecouk","investopedia":"widget_user_token-investopedia","ivsgroup":"widget_user_token-ivsgroup","boersenzeitung":"widget_user_token-boersenzeitung","lainformacioncom":"widget_user_token-lainformacioncom","marcopolocombr":"widget_user_token-marcopolocombr","mercadofinancierocom":"widget_user_token-mercadofinancierocom","moex":"widget_user_token-moex","moneytimescombr":"widget_user_token-moneytimescombr","monitordomercadoD":"widget_user_token-monitordomercadoD","negocios":"widget_user_token-negocios","NGX":"widget_user_token-NGX","NoticiasagricolaD":"widget_user_token-noticiasagricolaD","okdiario":"widget_user_token-okdiario","pse":"widget_user_token-pse","poder360":"widget_user_token-poder360","pseD":"widget_user_token-pseD","riyadhcapitalD":"widget_user_token-riyadhcapitalD","riyadhcapitalRT":"widget_user_token-riyadhcapitalRT","qecomqa":"widget_user_token-qecomqa","samolet":"widget_user_token-samolet","seudinheiro":"widget_user_token-seudinheiro","softwareag":"widget_user_token-softwareag","sogeclair":"widget_user_token-sogeclair","sgcompanyit":"widget_user_token-sgcompanyit","sharejunction":"widget_user_token-sharejunction","smartlab-custom":"widget_user_token-smartlab","smartlab":"widget_user_token-smartlab","spacemoneycombr":"widget_user_token-spacemoneycombr","thecsecom":"widget_user_token-thecsecom","tradersclubbrasil":"widget_user_token-tradersclubbrasil","tradersclubbrasilD":"widget_user_token-tradersclubbrasilD","tradingview":"widget_user_token-tradingview","twitter":"widget_user_token-twitter","vocesaabrilcombr":"widget_user_token-vocesaabrilcombr","xCrtyJksp":"widget_user_token-xCrtyJksp","xpicombr":"widget_user_token-xpicombr"}')
;var l=i(778016),c=i(125226),_=i(314802),u=i(799402),d=i(244842),h=i(268222),m=i(928691),p=i(401580);class g{constructor(e){this._cache=e}async getValue(e){const t=await this._cache.match(e);if(!t)return null;return"application/json"===(0,n.ensureNotNull)(t.headers.get("Content-Type"))?t.json():t.text()}async setValue(e,t){return"string"==typeof t?this._cache.put(e,new Response(t,{headers:{"content-type":"text/plain"}})):this._cache.put(e,new Response(JSON.stringify(t),{headers:{"content-type":"application/json"}}))}}class f{constructor(){this._data=new Map}async getValue(e){var t;return null!==(t=this._data.get(e))&&void 0!==t?t:null}async setValue(e,t){this._data.set(e,t)}}var S=i(678515),T=i(201089),R=i(175203),A=i(833813);function E(e){return e.index=e.i,e.value=e.v,delete e.i,delete e.v,e}function C(e){for(const t of Object.keys(e))e[t].t&&(e[t].turnaround=e[t].t),e[t].s&&!e[t].series&&(e[t].series=e[t].s.map(E)),e[t].st&&!e[t].series&&(e[t].series=e[t].st.map(E))}class v{set_broker(e){return[e]}set_data_quality(){return["low"]}quote_create_session(e){return[e]}quote_delete_session(e){return[e]}quote_set_fields(e,t){return[e].concat(t)}quote_add_symbols(e,t){return[e].concat(t)}quote_remove_symbols(e,t){return[e].concat(t)}quote_fast_symbols(e,t){return[e].concat(t)}quote_hibernate_all(e){return[e]}depth_create_session(e,t,i){return[e,t,i]}depth_delete_session(e){return[e]}depth_set_symbol(e,t){return[e,t]}depth_clear_symbol(e){return[e]}depth_set_scale(e,t){return[e,t]}chart_create_session(e,t){return[e,t?"disable_statistics":""]}chart_delete_session(e){return[e]}set_auth_token(e){return[e]}set_locale(e,t){return[e,t]}switch_timezone(e,t){return[e,t]}resolve_symbol(e,t,i){return[e,t,i]}create_series(e,t,i,s,o,r,n){return[e,t,i=i||"",s,o,r,n]}remove_series(e,t){return[e,t]}modify_series(e,t,i,s,o,r){return[e,t,i=i||"",s,o,r]}request_more_data(e,t,i){return[e,t,i]}request_studies_metadata(e){return[e]}create_study(e,t,i,s,o,r){return[e,t,i=i||"",s,o].concat(r)}create_child_study(e,t,i,s,o,r){return this.create_study(e,t,i,s,o,r)}remove_study(e,t){return[e,t]}modify_study(e,t,i,s){return[e,t,i=i||""].concat(s)}create_pointset(e,t,i,s,o,r){return[e,t,i=i||"",s,o].concat(r)}modify_pointset(e,t,i,s){return[e,t,i=i||""].concat(s)}remove_pointset(e,t){return[e,t]}request_more_tickmarks(e,t,i){return[e,t,i]}get_first_bar_time(e,t,i){return[e,t,i]}replay_create_session(e){return[e]}replay_delete_session(e){return[e]}replay_reset(e,t,i){return[e,t,i]}replay_start(e,t,i){return[e,t,i]}replay_stop(e,t){return[e,t]}replay_step(e,t,i){return[e,t,i]}replay_add_series(e,t,i,s){return[e,t,i,s]}replay_remove_series(e,t,i,s){return[e,t,i,s]}replay_set_resolution(e,t,i){return[e,t,i]}replay_get_depth(e,t,i,s){return[e,t,i,s]}convertTimescaleResponse(e){const t=e.marks.map((e=>({span:e[0],time:e[1],index:e[2]}))),i=void 0===e.index_diff?[]:e.index_diff.map((e=>({old:e[0],new:e[1]})));return{...e,marks:t,index_diff:i}}getDataUpdateObjects(e){return this.getTimescaleObjects(e)}getTimescaleObjects(e){return e.params[0]}
getTimescaleChangeset(e){return e.params[1]}prepareDataUpdateObjects(e,t,i){for(const s of Object.keys(t)){const o=t[s],r={customId:s,turnaround:o.turnaround,plots:o.series?o.series:o.plots};o.ns&&(r.nonseries=o.ns),o.lbs&&(r.lastBar={closeTime:o.lbs.bar_close_time});for(const e of r.plots)for(let t=0;t<e.value.length;++t){const i=e.value[t];i&&Math.abs(i)>=1e100&&(e.value[t]=void 0)}i(e,s,{method:"data_update",params:r})}}unpack(e){const t=JSON.parse(e);t.m&&t.p&&(t.method=t.m,t.params=t.p,t.time=t.t);const i=t.params[1];switch(t.method){case"qsd":t.method="quote_symbol_data",i.symbolname=i.n,i.status=i.s,i.values=i.v,i.values.change=i.v.ch,i.values.last_price=i.v.lp,i.values.change_percent=i.v.chp,delete i.n,delete i.s,delete i.v,delete i.values.ch,delete i.values.lp,delete i.values.chp;break;case"du":t.method="data_update",C(i);break;case"clear_data":for(const e of Object.keys(i))i[e].turnaround=i[e].t;break;case"timescale_update":C(i)}return t}prepareEncodeMessage(e,t){return JSON.stringify({m:e,p:t})}request_data_problems(){return[]}}var y=i(397150),b=i(61378);const N=(0,T.getLogger)("Chart.Studies.StudyMetaInfoRepository",{color:"#606"}),w=(0,T.getLogger)("ChartApi.TrafficMeter",{maxCount:20,color:"#268"}),I=!(0,_.isOnMobileAppPage)("any"),k=(0,c.isFeatureEnabled)("broker_id_session");let D=!1;const O=["","KB","MB","GB","TB"];function L(e){if(0===e)return"0";const t=(0,S.toInt)(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,t)).toFixed(2)+O[t]}function M(e,t){return`${e}__${t}`}function P(e,t,i){var s;const o=null!==(s=t[i])&&void 0!==s?s:0;t[i]=o+e}const q=P.bind(null,1),H=P.bind(null,-1);class x{constructor(e,t,i,s){this.sessionid=null,this._banInfo=new p.WatchedValue(null),this._isAuthTokenLoaded=!1,this._authTokenDfd=null,this._serverTimeBasePoint=Date.now()-performance.now(),this._initCachePromise=async function(e){try{const t=await caches.open(e);return new g(t)}catch(e){return new f}}("TVChartApi"),this._trafficStats={total:0,sinceConnect:0,lastChunk:0},this._lowQualityEnabled=!1,this._brokerId="",this._sendingQueuedRequestsCount=0,this._modifyStudyMap=new Map,this._disconnectCount=0,this._isConnected=!1,this._metadataDeferredPromise=null,this._dataHandleModule=new v,this._sessions={},this._notificationHandlers={},this._pendingMessagesQueue=[],this._loadNewBars=!1,this._metadataRequestNextNumber=1,this._fundamentalCounter={},this._studyCounter={},this._childStudyCounter={},this._studySpecs=new Map,this._connectionsLimitReached=new p.WatchedValue(!1),this._wsBackendConnection=e,this._chartSessionLog=t,this._chartApiLog=i,this._quoteSessionLog=s,this._wsBackendConnection.onReconnect(this._bindSocketEvents.bind(this)),this._wsBackendConnection.setLogger(i,T.getLogHistory),this._wsBackendConnection.setTelemetry(R.telemetry),this._bindSocketEvents(),this._isNonCountedStudy=()=>!0,setInterval((()=>{w.logNormal("Last 30 seconds:"+L(this._trafficStats.lastChunk)+" Since last connect:"+L(this._trafficStats.sinceConnect)+" Total traffic:"+L(this._trafficStats.total)),this._trafficStats.lastChunk=0
}),3e4),this._connectionsLimitReached.subscribe((e=>{e&&this.disconnect()}))}connect(e){this._connectOnlyOptions=e,this._wsBackendConnection.isConnected()||this._wsBackendConnection.isConnecting()||this._wsBackendConnection.connect()}disconnect(){this._wsBackendConnection.disconnect()}availablePriceSources(){return Promise.resolve([])}createSession(e,t){this._sessions[e]=t,this._notificationHandlers[e]={},this.connected()&&this._isAuthTokenLoaded&&t.onMessage({method:"connected",params:[]})}removeSession(e){delete this._sessions[e],delete this._notificationHandlers[e]}connectionBanInfo(){return this._banInfo.readonly()}connectionsLimitReached(){return this._connectionsLimitReached.readonly()}serverTime(){return Math.round(this._serverTimeBasePoint+performance.now())}compensateConnectionLag(e){const t=this.serverTime(),i=Math.floor(e-t);i>0&&(this._serverTimeBasePoint+=i)}setBroker(e){return e===this._brokerId||(this._brokerId=e,this._sendBrokerIdToSession(this._brokerId))}resolveSymbol(e,t,i,s){return R.telemetry.timeCounters.series["resolve_symbol_"+e]=window.performance.now(),this._notificationHandlers[e][t]=new b.HandlerInfo(s,t,!0),this._sendRequest("resolve_symbol",[e,t,i])}requestFirstBarTime(e,t,i,s){return this._notificationHandlers[e][t]=new b.HandlerInfo(s,t,!0),this._sendRequest("get_first_bar_time",[e,t,i])}getStudyCounter(e){var t;return null!==(t=this._studyCounter[e])&&void 0!==t?t:0}getFundamentalCounter(e){var t;return null!==(t=this._fundamentalCounter[e])&&void 0!==t?t:0}async requestMetadata(){return null===this._metadataDeferredPromise&&(this._metadataDeferredPromise=(0,h.createDeferredPromise)(),this._metadataDeferredPromise.promise.finally((()=>{this._metadataDeferredPromise=null})),this._requestMetadata()),this._metadataDeferredPromise.promise}setLoadNew(e){this._loadNewBars=!!e}setIsNonCountedStudyFn(e){this._isNonCountedStudy=e}canCreateStudy(e,t,i){var s;const{id:o,child:r,fundamental:a}=t,c=(0,n.ensureNotNull)((0,l.getConfig)(A.ProductFeatures.STUDY_ON_STUDY)).child_limit;if(r&&(!(0,l.enabled)(A.ProductFeatures.STUDY_ON_STUDY)||(null!==(s=this._childStudyCounter[e])&&void 0!==s?s:0)>=c))return{success:!1,reason:"child",limitValue:c};if(i)return{success:!0};const _=(0,n.ensureNotNull)((0,l.getConfig)(A.ProductFeatures.FUNDAMENTALS_ON_CHART)).limit;if(a&&(!(0,l.enabled)(A.ProductFeatures.FUNDAMENTALS_ON_CHART)||this.getFundamentalCounter(e)>=_))return{success:!1,reason:"fundamental",limitValue:_};const u=(0,n.ensureNotNull)((0,l.getConfig)(A.ProductFeatures.INDICATORS_ON_CHART)).limit;return a||this._isNonCountedStudy(o)||(0,l.enabled)(A.ProductFeatures.INDICATORS_ON_CHART)&&!(this.getStudyCounter(e)>=u)?{success:!0}:{success:!1,reason:"general",limitValue:u}}createStudy(e,t,i,s,o,r,n,a){const l=this.canCreateStudy(e,a);return l.success||"child"!==l.reason?(this._notificationHandlers[e][t]=new b.HandlerInfo(n,t),this._sendRequest("create_study",[e,t,i,s,o,r]),a.fundamental?q(this._fundamentalCounter,e):this._isNonCountedStudy(a.id)||q(this._studyCounter,e),
a.child&&q(this._childStudyCounter,e),this._studySpecs.set(M(e,t),a),!0):((0,y.showTooManyStudiesNotice)(l.limitValue),!1)}modifyStudy(e,t,i,o,r,a){var l,c;P(a=null!=a?a:0,this._childStudyCounter,e),0!==a&&((0,n.ensureDefined)(this._studySpecs.get(M(e,t))).child=a>0),this._notificationHandlers[e][t]=new b.HandlerInfo(r,t);const _=e+t;if(this._modifyStudyMap.has(_)){return null===(l=(0,n.ensureDefined)(this._modifyStudyMap.get(_))(e,t,i,o))||void 0===l||l}{const r=(0,s.default)(((e,t,i,s)=>this._sendRequest("modify_study",[e,t,i,s])),500,{maxWait:550});return this._modifyStudyMap.set(_,r),null===(c=r(e,t,i,o))||void 0===c||c}}removeStudy(e,t){var i;const s=e+t;delete this._notificationHandlers[e][t],null===(i=this._modifyStudyMap.get(s))||void 0===i||i.flush();const o=this._sendRequest("remove_study",[e,t]);if(!1===o)return!1;this._modifyStudyMap.delete(s);const r=M(e,t),a=(0,n.ensureDefined)(this._studySpecs.get(r));return this._studySpecs.delete(r),a.fundamental?H(this._fundamentalCounter,e):this._isNonCountedStudy(a.id)||H(this._studyCounter,e),a.child&&H(this._childStudyCounter,e),o}createPointset(e,t,i,s,o,r,n){return this._notificationHandlers[e][t]=new b.HandlerInfo(n,t),this._sendRequest("create_pointset",[e,t,i,s,o,r])}modifyPointset(e,t,i,s,o){return this._notificationHandlers[e][t]=new b.HandlerInfo(o,t),this._sendRequest("modify_pointset",[e,t,i,s])}removePointset(e,t){return delete this._notificationHandlers[e][t],this._sendRequest("remove_pointset",[e,t])}unpack(e){return this._dataHandleModule.unpack(e)}sendRequest(e,t){return this._sendRequest(e,t)}enableLowQualityMode(){this._lowQualityEnabled=!0,this._sendLowQualityModeIfEnabled()}_init(){this._notificationHandlers={},this._studyCounter={},this._childStudyCounter={},this._fundamentalCounter={},this._modifyStudyMap=new Map}_sendRequest(e,t){if(0!==this._sendingQueuedRequestsCount)return this._pendingMessagesQueue.push({method:e,args:t}),!0;const i=this._dataHandleModule[e].apply(this._dataHandleModule,t),s={m:e,p:i},o=JSON.stringify(s);if(i.length>0){const e=i[0];e.startsWith("qs_")?this._quoteSessionLog.logNormal("send: "+o):e.startsWith("cs_")&&this._chartSessionLog.logNormal("send: "+o)}else this._chartApiLog.logNormal("send: "+o);const r=this._dataHandleModule.prepareEncodeMessage(e,i);return this._wsBackendConnection.send(r)}_onConnect(){if(this.connected())return;if(this._trafficStats.sinceConnect=0,this._isAuthTokenLoaded=!1,this._connectOnlyOptions=this._connectOnlyOptions||{},this._authTokenDfd=this._getAuthTokenDfd(this._connectOnlyOptions.tokenGrabSession),this._connectOnlyOptions={},this.sessionid=this._wsBackendConnection.getSessionId(),!this.sessionid||this._isConnected)return;this._pendingMessagesQueue=[],this._sendingQueuedRequestsCount=0,this._studyCounter={},this._childStudyCounter={},this._fundamentalCounter={},this._studySpecs.clear(),this._isConnected=!0,this._banInfo.setValue(null),this._connectionsLimitReached.setValue(!1);const e=JSON.parse(this.sessionid);this._sendLowQualityModeIfEnabled(),
this._metadataServerHash=e.studies_metadata_hash||null;const t=this._wsBackendConnection.getConnectionEstablished();try{this._serverTimeBasePoint=Math.round(e.timestampMs-t)}catch(e){this._serverTimeBasePoint=Date.now()-performance.now()}if(this._chartApiLog.logInfo("Time shift with server: "+this._formatTime(this.serverTime()-Date.now())),this._authTokenDfd){this._sendingQueuedRequestsCount+=1,this._chartApiLog.logInfo("Wait for auth token before send messages");const e=this._authTokenDfd;e.then((t=>{if(null!==this._authTokenDfd&&this._authTokenDfd===e){if(this._chartApiLog.logNormal("Auth token request is finished, token: "+Boolean(t)),this._authTokenDfd=null,t){const e=[{method:"set_auth_token",args:[t]}];if(I){const t=window.initData&&window.initData.currentLocaleInfo;t&&e.push({method:"set_locale",args:[t.iso,t.flag.toUpperCase()]})}this._pendingMessagesQueue.unshift(...e)}this._onSendingQueueRequestFinished(),this._isAuthTokenLoaded=!0,this._notifySessions({method:"connected",params:[]})}else this._chartApiLog.logNormal("Comes auth token after requesting new token or after socket disconnected")})).catch((e=>{this._chartApiLog.logNormal((0,m.errorToString)(e))}))}else this._chartApiLog.logWarn("Deferred auth token object is not valid"),this._isAuthTokenLoaded=!0;""!==this._brokerId&&this._sendBrokerIdToSession(this._brokerId);const i=this._wsBackendConnection.getConnectionStart();window.TradingView.WEB_SOCKET_WAS_CONNECTED=!0,R.telemetry.setSessionInfo(this.sessionid),R.telemetry.sendChartReport("websocket_connected"),R.telemetry.sendChartReport("websocket_connection_time_frame",{value:t-i}),R.telemetry.sendChartReport("reconnect_count_frame",{value:this._wsBackendConnection.getReconnectCount()}),R.telemetry.sendChartReport("redirect_count_frame",{value:this._wsBackendConnection.getRedirectCount()}),D||(D=!0,R.telemetry.sendChartReport("before_websocket_connection_time_frame",{value:i})),this._wsBackendConnection.resetCounters(),clearTimeout(this._telemetryDisconnectTimeout)}_formatTime(e){return`${(e/1e3).toFixed(2)} seconds.`}_onMessage(e){this._calcTrafficStats(e);const t=this.unpack(e);"t_ms"in t&&(0,o.default)(t.t_ms)&&window.ChartApiInstance.compensateConnectionLag(t.t_ms),"protocol_switched"!==t.method?"protocol_error"!==t.method?this._dispatchNotification(t,e):this._processProtocolError(t):this._chartApiLog.logError("Unexpected protocol changing request, try skipping. Requested protocol:"+t.params[0])}async _processedMetadata(e){const t=(0,n.ensureNotNull)(this._metadataDeferredPromise),i=await this._initCachePromise,s=window.pro.hash(),o=d.enabled("widget"),a=o?"studies_metadata_widget":"studies_metadata";try{if(await i.setValue(a,(0,r.default)(e)),this._chartApiLog.logNormal("Updated studies_metadata cache"),!o)try{await i.setValue("pro_hash",(0,r.default)(s)),this._chartApiLog.logNormal("Updated pro_hash cache")}catch(e){t.reject(),this._chartApiLog.logError("Cannot update pro_hash cache, reason: "+e)}}catch(e){t.reject(),this._chartApiLog.logError("Cannot update studies_metadata cache, reason: "+e)}
t.resolve((0,r.default)(e))}_invokeNotificationHandler(e,t,i){var s;if(void 0===t)return;const o=this._notificationHandlers[e][t];void 0!==o&&(o.singleShot&&delete this._notificationHandlers[e][t],null===(s=o.handler)||void 0===s||s.call(o,i))}async _requestMetadata(){const e=this._makeNextRequestId();N.logNormal(`Requesting metainfo #${e}`);const t=(0,n.ensureNotNull)(this._metadataDeferredPromise),i=window.pro,s=i.hash(),o=d.enabled("widget"),a=o?"studies_metadata_widget":"studies_metadata";this._chartApiLog.logNormal("Requesting pro hash");try{const n=await this._initCachePromise,l=await n.getValue("pro_hash");if(null!==l&&l===s||o){this._chartApiLog.logNormal("Pro hash has not changed, requesting from local");const o=await n.getValue(a),l=null!==o&&o.params[1].hash||null;if(null===l||null===this._metadataServerHash||this._metadataServerHash!==l)this._chartApiLog.logNormal("Metadata hash has changed (cached:'"+l+"', server:'"+this._metadataServerHash+"'')"),this._requestMetadataFromServer(e);else{if(!i.hasPackage("tv-volumebyprice")||void 0!==o.params[1].metainfo.find((e=>e.id.includes("@tv-volumebyprice"))))return this._chartApiLog.logNormal("Using studies_metadata from browser cache"),void t.resolve((0,r.default)(o));this._chartApiLog.logNormal("De-sync detected! pro.hash contains VbPR studies, but data from cache doesn't and pro.hash isn't changed, pro.hash="+s),this._requestMetadataFromServer(e)}}else this._chartApiLog.logNormal("Pro hash has changed (cached: '"+l+"', current:'"+s+"')"),this._requestMetadataFromServer(e)}catch(t){this._chartApiLog.logError("Cannot get studies_metadata, reason: "+t),this._requestMetadataFromServer(e)}finally{N.logNormal(`Requesting studies metadata #${e} finished`)}}_makeNextRequestId(){return"metadata_"+this._metadataRequestNextNumber++}_processProtocolError(e){const t=e.params[0];this._chartApiLog.logError(`Protocol error. Reason=${t}.`),"banned"!==t&&"banned by user_id"!==t&&"banned by ip"!==t||(this._banInfo.setValue({reason:t}),this.disconnect()),this._connectionsLimitReached.setValue("user connections limit reached"===t)}_requestMetadataFromServer(e){return this._chartApiLog.logNormal("Request studies_metadata from server"),this._sendRequest("request_studies_metadata",[e])}_bindSocketEvents(){this.connectDfd=new Promise(((e,t)=>{this._wsBackendConnection.on("connect",(()=>{this._onConnect(),e()})),this._wsBackendConnection.on("message",this._onMessage.bind(this)),this._wsBackendConnection.on("disconnect",(()=>{this._authTokenDfd&&(this._authTokenDfd=null),this._onDataProblemsPromiseErrback&&this._onDataProblemsPromiseErrback(),this._isConnected=!1,this._notifySessions({method:"disconnected",params:[]}),this._banInfo.value()||(this._metadataDeferredPromise=null),this._disconnectCount=(this._disconnectCount||0)+1,this._wsBackendConnection.isConnected()&&(this._telemetryDisconnectTimeout=setTimeout((()=>{R.telemetry.sendChartReport("disconnect")}),5e3),this._wsBackendConnection.isMaxReconnects()&&(this._notifySessions({method:"reconnect_bailout",params:[]}),t(),
R.telemetry.sendChartReport("reconnect_bailout")))}))}))}_calcTrafficStats(e){const t=e.length;this._trafficStats.total+=t,this._trafficStats.sinceConnect+=t,this._trafficStats.lastChunk+=t}_sendBrokerIdToSession(e){return!k||this._sendRequest("set_broker",[e])}_sendLowQualityModeIfEnabled(){this._lowQualityEnabled&&this.connected()&&this._sendRequest("set_data_quality",[])}_getAuthTokenDfd(e){if(this._loadNewBars)return Promise.resolve("load_new_token");if(d.enabled("widget")||-1!==window.location.search.indexOf("widget_token")||-1!==window.location.hash.indexOf("widget_token")){const e=window.TradingView&&window.TradingView.widgetCustomer||"";return Promise.resolve(a[e]||"widget_user_token")}return window.is_authenticated?(this._authTokenManager||(this._authTokenManager=new u.AuthToken,this._authTokenManager.invalidated.subscribe(null,(()=>{var e;null===(e=this._authTokenManager)||void 0===e||e.get().then((e=>{e&&this.connected()&&this._sendRequest("set_auth_token",[e])}))}))),this._authTokenManager.get(e)):Promise.resolve("unauthorized_user_token")}_onSendingQueueRequestFinished(){this._sendingQueuedRequestsCount-=1,this._chartApiLog.logInfo(`Sending queue request finished. Remaining pending requests=${this._sendingQueuedRequestsCount}`),this._sendingQueuedRequestsCount<0&&this._chartApiLog.logError(`Invalid queue state=${this._sendingQueuedRequestsCount}`),0===this._sendingQueuedRequestsCount&&this._flushPendingMessages()}_flushPendingMessages(){this._chartApiLog.logInfo(`Flush pending messages. Count=${this._pendingMessagesQueue.length}`),this._pendingMessagesQueue.forEach((e=>this._sendRequest(e.method,e.args))),this._pendingMessagesQueue=[]}}},84461:(e,t,i)=>{"use strict";var s=i(389137).declareClassAsPureInterface;function o(){}TradingView.WEB_SOCKET_WAS_CONNECTED=!1,o.prototype.defaultResolutions=function(){},o.prototype.availableCurrencies=function(){},o.prototype.availableUnits=function(){},o.prototype.supportedSymbolsTypes=function(){},o.prototype.symbolsGrouping=function(){},o.prototype.quoteCreateSession=function(e){},o.prototype.quoteDeleteSession=function(e){},o.prototype.quoteSetFields=function(e,t){},o.prototype.quoteAddSymbols=function(e,t){},o.prototype.quoteRemoveSymbols=function(e,t){},o.prototype.quoteFastSymbols=function(e,t){},o.prototype.depthCreateSession=function(e,t,i){},o.prototype.depthDeleteSession=function(e){},o.prototype.depthSetSymbol=function(e,t){},o.prototype.depthClearSymbol=function(e){},o.prototype.depthSetScale=function(e,t){},o.prototype.chartCreateSession=function(e,t){},o.prototype.chartDeleteSession=function(e){},o.prototype.createSession=function(e,t){},o.prototype.removeSession=function(e){},o.prototype.connected=function(){},o.prototype.connect=function(){},o.prototype.disconnect=function(){},o.prototype.switchTimezone=function(e,t){},o.prototype.resolveSymbol=function(e,t,i,s){},o.prototype.createSeries=function(e,t,i,s,o,r,n,a){},o.prototype.removeSeries=function(e,t,i){},o.prototype.modifySeries=function(e,t,i,s,o,r,n){},
o.prototype.requestMoreData=function(e,t,i,s){},o.prototype.requestMetadata=function(e){},o.prototype.canCreateStudy=function(e,t,i){},o.prototype.createStudy=function(e,t,i,s,o,r,n,a){},o.prototype.getStudyCounter=function(e){},o.prototype.getFundamentalCounter=function(e){},o.prototype.removeStudy=function(e,t){},o.prototype.modifyStudy=function(e,t,i,s,o){},o.prototype.createPointset=function(e,t,i,s,o,r,n){},o.prototype.modifyPointset=function(e,t,i,s,o){},o.prototype.removePointset=function(e,t,i){},o.prototype.requestMoreTickmarks=function(e,t,i,s){},o.prototype.requestFirstBarTime=function(e,t,i,s){},o.prototype._sendRequest=function(e,t){},o.prototype._onMessage=function(e){},o.prototype._dispatchNotification=function(e){},o.prototype._invokeNotificationHandler=function(e,t,i){},o.prototype._notifySessions=function(e){},o.prototype.unpack=function(e){},o.prototype.searchSymbols=function(e,t,i,s,o,r,n,a,l,c){},o.prototype.getMarks=function(e,t,i,s,o){},o.prototype.getTimescaleMarks=function(e,t,i,s,o){},s(o,"ChartApiInterface"),e.exports.ChartApiInterface=o},730128:(e,t,i)=>{"use strict";e=i.nmd(e);var s=!1,o=!1,r=i(84461).ChartApiInterface;const{HandlerInfo:n}=i(61378);var a=i(66974),l=i(175203).telemetry,c=i(244842),_=i(846540),u=i(389137).requireFullInterfaceImplementation,d=i(125226).isFeatureEnabled,h=i(230648).ResponseMethods,m=i(201089),p=i(638456).onWidget,g=m.getLogger("ChartApi.Core",{color:"#706"}),f=m.getLogger("ChartApi.ChartSession",{color:"#706"}),S=m.getLogger("ChartApi.ChartSession",{highRate:!0,maxCount:100,color:"#706"}),T=m.getLogger("ChartApi.ChartSession",{maxCount:0,color:"#706"}),R=m.getLogger("ChartApi.ChartSession",{maxCount:50,color:"#706"}),A=m.getLogger("ChartApi.QuoteSession",{maxCount:50,color:"#660"}),E=m.getLogger("ChartApi.QuoteSession",{highRate:!0,maxCount:10,color:"#660"}),C=i(128563),v=i(120780).fetch,y=i(315347).TIMEFRAMETYPE,{getLogoUrlResolver:b,LogoSize:N}=i(849204);const{TVChartApiBase:w}=i(259186);var I=d("tick_intervals")&&!p(),k=null;function D(){if(null===k){const e=document.querySelector('link[rel~="conversions-config"]'),t=new URL(e.href);k=v(t.toString(),{method:"GET"}).then((function(e){if(!e.ok)throw new Error("Response status is not success");return e.json()})).then((e=>{const t=b();return e.currencies.forEach((e=>{void 0!==e.logoid&&(e.logoUrl=t.getSymbolLogoUrl(e.logoid,N.Medium))})),e}))}return k}function O(e){if(null===e)return"";if(e.type===y.PeriodBack){var t=e.value;return"YTD"!==t&&"D"===t.slice(-1)&&(t=t.slice(0,-1)),t}return"r,"+e.from+":"+e.to}class L extends w{constructor(e){super(e,f,g,A)}defaultResolutions(){var e=["1","3","5","15","30","45","60","120","180","240","1D","1W","1M","3M","6M","12M","1R","10R","100R","1000R"];if(!c.enabled("widget")){var t=["1S","5S","10S","15S","30S"];return I&&(t=["1T","10T","100T","1000T"].concat(t)),t.concat(e)}return e}availableCurrencies(){return D().then((e=>e.currencies))}availableUnits(){return D().then((e=>{const t={};for(const i of e.units)t[i.type]||(t[i.type]=[]),t[i.type].push(i);return t}))}
supportedSymbolsTypes(){return"bovespa"===TradingView.widgetCustomer?C.filter((function(e){return-1!==["","stock","futures","index"].indexOf(e.value)})):"cme"===TradingView.widgetCustomer?C.filter((function(e){return e.value!==_.types.QUANDL})):C}symbolsGrouping(){return{futures:/^(.+?)([12]!|\w\d{4})?$/}}quoteCreateSession(e){return this._sendRequest("quote_create_session",[e])}quoteDeleteSession(e){return this._sendRequest("quote_delete_session",[e])}quoteSetFields(e,t){return this._sendRequest("quote_set_fields",[e,t])}quoteAddSymbols(e,t){return this._sendRequest("quote_add_symbols",[e,t])}quoteRemoveSymbols(e,t){return this._sendRequest("quote_remove_symbols",[e,t])}quoteFastSymbols(e,t){return this._sendRequest("quote_fast_symbols",[e,t])}quoteHibernateAll(e){return this._sendRequest("quote_hibernate_all",[e])}depthCreateSession(e,t,i){return this._sendRequest("depth_create_session",[e,t,i])}depthDeleteSession(e){return this._sendRequest("depth_delete_session",[e])}depthSetSymbol(e,t){return this._sendRequest("depth_set_symbol",[e,t])}depthClearSymbol(e){return this._sendRequest("depth_clear_symbol",[e])}depthSetScale(e,t){return this._sendRequest("depth_set_scale",[e,t])}chartCreateSession(e,t){return this._sendRequest("chart_create_session",[e,t])}chartDeleteSession(e){return this._sendRequest("chart_delete_session",[e])}connected(){return!!this._isConnected}switchTimezone(e,t){return this._sendRequest("switch_timezone",[e,t])}createSeries(e,t,i,s,o,r,a,c){this._notificationHandlers[e][t]=new n(c,t),l.timeCounters.series.marks.push("create_series_"+e);const _=O(a);return this._sendRequest("create_series",[e,t,i,s,o,r,_])}removeSeries(e,t){return delete this._notificationHandlers[e][t],this._sendRequest("remove_series",[e,t])}modifySeries(e,t,i,s,o,r,a,l){this._notificationHandlers[e][t]=new n(l,t);const c=O(a);return this._sendRequest("modify_series",[e,t,i,s,o,c])}requestMoreData(e,t,i,s){if("number"!=typeof i)throw new Error("unsupported request to load more data, bars="+i);return this._notificationHandlers[e][t]=new n(s,t),this._sendRequest("request_more_data",[e,t,i])}authTokenManager(){return this._authTokenManager}requestMoreTickmarks(e,t,i,s){return this._notificationHandlers[e][t]=new n(s,t),this._sendRequest("request_more_tickmarks",[e,t,i])}disconnectCount(){return this._disconnectCount||0}_convertTimescaleResponse(e){return this._dataHandleModule.convertTimescaleResponse(e)}_appendDuration(e,t){return e?t+", duration: "+this._formatTime(this.serverTime()-1e3*e):t}_dispatchNotification(e,t){if("request_data_problems"===e.method&&this._onDataProblemsPromiseCb)this._onDataProblemsPromiseCb(e.params);else if("studies_metadata"!==e.method||null===this._metadataDeferredPromise){var i=e.params.shift();if(this._notificationHandlers[i]){var r=e.params[0];if("symbol_resolved"===e.method){var n=e.params[1].full_name;l.sendChartReport("symbol_resolved",{count:1,additional:{symbol:n}});var a=l.timeCounters.series["resolve_symbol_"+i];"number"==typeof a&&l.sendChartReport("symbol_resolve_time_frame",{
value:window.performance.now()-a,additional:{symbol:n}})}if(["series_error","series_completed"].includes(e.method)&&l.timeCounters.series.marks.length>0){var c="create_series_"+i,_=l.timeCounters.series.marks.indexOf(c);_>=0&&l.timeCounters.series.marks.splice(_,1)}o||"series_error"!==e.method||(o=!0);var u=this._wsBackendConnection.getConnectionEstablished();if(null!==u&&"series_completed"===e.method&&(o||(o=!0,l.sendChartReport("first_series_full_time_frame",{value:window.performance.now()-u}),l.timeCounters.series.marks=[]),s||(s=!0,l.sendChartReport("page_full_load_time_frame",{value:window.performance.now()}))),i.startsWith("cs_")){var d="recv: "+t;"data_update"===e.method?(d=m.isHighRateEnabled()?d:d.slice(0,500),S.logNormal(this._appendDuration(e.time,d))):"study_loading"===e.method?T.logNormal(this._appendDuration(e.time,d)):"tickmark_update"===e.method?R.logNormal(this._appendDuration(e.time,d)):f.logNormal(this._appendDuration(e.time,d))}if(i.startsWith("qs_"))("quote_symbol_data"===e.method?E.logNormal:A.logNormal)("recv: "+t);switch(e.method){case"timescale_update":var p=this._dataHandleModule.getTimescaleObjects(e),C=this._dataHandleModule.getTimescaleChangeset(e);(v=this._convertTimescaleResponse(C)).clear=0===v.changes.length&&0===v.index_diff.length&&0===v.marks.length,this._sessions[i].onMessage({method:"timescale_update",params:v}),this._dataHandleModule.prepareDataUpdateObjects(i,p,function(e,t,i){this._invokeNotificationHandler(e,t,i)}.bind(this));break;case"tickmark_update":var v;(v=this._convertTimescaleResponse(e.params[0])).changes=[],this._sessions[i].onMessage({method:"timescale_update",params:v});break;case"data_update":p=this._dataHandleModule.getDataUpdateObjects(e);this._dataHandleModule.prepareDataUpdateObjects(i,p,function(e,t,i){this._invokeNotificationHandler(e,t,i)}.bind(this));break;case"index_update":for(var b in e.params[0]){var N={method:"index_update",params:e.params[0][b]};this._invokeNotificationHandler(i,b,N)}break;case"critical_error":g.logInfo(new Date+" critical_error session:"+this.sessionid+" reason:"+e.params[0]),l.sendChartReport("critical_error"),this._sessions[i].onMessage({method:"critical_error",params:e.params});break;case"timescale_completed":case"quote_symbol_data":case"quote_list_fields":case"quote_completed":case"depth_symbol_error":case"depth_symbol_success":case"dd":case"dpu":case"depth_bar_last_value":this._sessions[i].onMessage({method:e.method,params:e.params});break;case"clear_data":for(var w in e.params[0])this._invokeNotificationHandler(i,w,{method:"clear_data",params:e.params[0][w]});break;case h.point:case h.resolutions:case h.endOfData:case h.instanceId:case h.replayDepth:case h.error:case h.ok:case h.depth:this._sessions[i].onMessage(e);break;case"series_timeframe":e.params[4]=function(e){if(null==e)return null;var t=/r,(\d+):(\d+)/.exec(e);return null!==t?{from:Number(t[1]),to:Number(t[2]),type:y.TimeRange}:{value:e,type:y.PeriodBack}}(e.params[4]),this._invokeNotificationHandler(i,r,e);break;case"symbol_resolved":!function(e){
if(void 0===e.corrections){var t=e.subsessions.find((function(t){return t.id===e.subsession_id}));void 0!==t&&(e.corrections=t["session-correction"])}}(e.params[1]),this._invokeNotificationHandler(i,r,e);break;default:this._invokeNotificationHandler(i,r,e)}}}else this._processedMetadata(e)}_notifySessions(e){for(var t in this._sessions){if(!this._sessions.hasOwnProperty(t))return;var i=this._sessions[t];"function"==typeof i.onMessage&&i.onMessage(e)}}searchSymbols(e,t,i,s,o,r,n,c,u,d){var h=this;this._symbolSearchRequest&&this._symbolSearchRequest.abort();var m=location.protocol+"//"+window.SS_HOST;a.isProd()?m+="/symbol_search/":m+="/local_search/",window.SS_URL&&(m=window.SS_URL);var p={text:e,exchange:t,type:i,hl:o,lang:s};window.SS_DOMAIN_PARAMETER&&(p.domain=window.SS_DOMAIN_PARAMETER),r&&(p.strict=1),i===_.types.QUANDL&&(m="https://quandlapi.tradingview.com/api/v3/datasets.json",p={query:e,database_code:t}),n&&(p.broker=n,c&&(p.tradable=!0),u&&(p.unhide=u));var g=Object.keys(p).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(p[e])})).join("&"),f=new XMLHttpRequest;f.open("GET",m+"?"+g);var S=window.performance.now();function T(){l.sendChartReport("symbol_search_time_frame",{value:window.performance.now()-S})}function R(){T(),l.sendChartReport("symbol_search_http_error"),h._symbolSearchRequest=null}f.addEventListener("load",(function(){var e=JSON.parse(f.responseText);d&&d(e),T(),l.sendChartReport("symbol_search_http_status",{value:f.status}),h._symbolSearchRequest=null})),f.addEventListener("error",R),f.addEventListener("timeout",R),this._symbolSearchRequest=f,f.send()}getMarks(e,t,i,s,o){throw Error("This method is not implemented")}getTimescaleMarks(e,t,i,s,o){throw Error("This method is not implemented")}getPingInfo(){return this._wsBackendConnection.getPingInfo()}requestDataProblems(){return this._requestDataProblemsPromise||(this._requestDataProblemsPromise=this.connectDfd.then((()=>new Promise(((e,t)=>{this._onDataProblemsPromiseErrback=t,this._sendRequest("request_data_problems",[])?this._onDataProblemsPromiseCb=e:t()})))).finally((()=>{this._requestDataProblemsPromise=null}))),this._requestDataProblemsPromise}}u(L,"TVChartApi",r,"ChartApiInterface"),window.ChartApiInstance=new L(window.WSBackendConnection),e&&e.exports&&(e.exports=L)},61378:(e,t,i)=>{"use strict";i.r(t),i.d(t,{HandlerInfo:()=>s});class s{constructor(e,t,i){this.handler=e,this.customId=t,this.singleShot=i}}},428123:(e,t,i)=>{"use strict";function s(e){const t=Object.create(e);return t.release=()=>{},t.ownership=()=>t,t}function o(e){const t=Object.create(e);return t.release=()=>e.destroy(),t.ownership=()=>t,t}i.d(t,{ownership:()=>o,weakReference:()=>s})},194582:(e,t,i)=>{"use strict";i.d(t,{LOGLEVEL:()=>r,getLogHistory:()=>A,getLogLevel:()=>g,getLogger:()=>C,getRawLogHistory:()=>T,isHighRateEnabled:()=>f,loggingOff:()=>b,loggingOn:()=>y,serializeLogHistoryEntry:()=>R,setLogLevel:()=>S});const s="undefined"!=typeof window?window:{};let o=!1;try{localStorage.getItem(""),o=!0}catch(e){}var r;!function(e){
e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.NORMAL=4]="NORMAL",e[e.DEBUG=5]="DEBUG"}(r||(r={}));let n=0;const a="tv.logger.loglevel",l="tv.logger.logHighRate",c=[];let _=null,u=null,d=null,h=NaN,m=r.WARNING,p=!1;function g(){return m}function f(){return p}function S(e){e=Math.max(r.ERROR,Math.min(r.DEBUG,e)),m=e,N()}function T(e,t){let i=c.reduce(((e,t)=>e.concat(t)),[]);return i.sort(((e,t)=>e.id-t.id)),void 0!==t&&(i=i.filter((e=>e.subSystemId===t))),"number"==typeof e&&(i=i.slice(-e)),i}function R(e){return new Date(e.timestamp).toISOString()+":"+e.subSystemId+":"+e.message.replace(/"/g,"'")}const A=s.lget=(e,t)=>function(e,t){let i,s=0,o=0;for(i=e.length-1;i>=1&&(s+=8*(1+encodeURIComponent(e[i]).length),!(i-1>0&&(o=8*(1+encodeURIComponent(e[i-1]).length),s+o>t)));i--);return e.slice(i)}(T(e,t).map(R),75497472);function E(e,t,i,s){if(t===u&&s.id===d)return;const o=new Date;if(e<=r.NORMAL&&function(e,t,i,s,o){"function"==typeof structuredClone&&(t=structuredClone(t));const r={id:n,message:t,subSystemId:s,timestamp:Number(e)};n+=1,i.push(r),void 0!==o&&i.length>o&&i.splice(0,1)}(o,t,i,s.id,s.maxCount),e<=m&&(!s.highRate||f())&&(!_||s.id.match(_))){const i=o.toISOString()+":"+s.id+":"+t;switch(e){case r.DEBUG:console.debug(i);break;case r.INFO:case r.NORMAL:s.color?console.log("%c"+i,"color: "+s.color):console.log(i);break;case r.WARNING:console.warn(i);break;case r.ERROR:console.error(i)}u=t,d=s.id,h&&clearTimeout(h),h=setTimeout((()=>{u=null,d=null,h=NaN}),1e3)}}function C(e,t={}){const i=[];c.push(i);const s=Object.assign(t,{id:e});function o(e){return t=>E(e,String(t),i,s)}return{logDebug:o(r.DEBUG),logError:o(r.ERROR),logInfo:o(r.INFO),logNormal:o(r.NORMAL),logWarn:o(r.WARNING)}}const v=C("logger"),y=s.lon=(e,t)=>{S(r.DEBUG),v.logNormal("Debug logging enabled"),p=Boolean(e),_=t||null,N()},b=s.loff=()=>{S(r.INFO),v.logInfo("Debug logging disabled")};function N(){try{o&&(localStorage.setItem(l,String(p)),localStorage.setItem(a,String(m)))}catch(e){v.logWarn(`Cannot save logger state (level: ${m}, high-rate: ${p}) to localStorage: ${e.message}`)}}!function(){p=!!o&&"true"===localStorage.getItem(l);let e=parseInt(o&&localStorage.getItem(a)||"");Number.isNaN(e)&&(e=r.WARNING),S(e),v.logNormal(`Init with settings - level: ${m}, high-rate: ${p}`)}(),s.performance&&s.performance.now?v.logNormal(`Sync logger and perf times, now is ${s.performance.now()}`):v.logWarn("Perf time is not available")},805377:(e,t,i)=>{"use strict";function s(e,t,i){if(t(e.value()))return void i();const s=o=>{t(o)&&(e.unsubscribe(s),i())};e.subscribe(s,{callWithLast:!0})}i.d(t,{callWhen:()=>s})},702053:(e,t,i)=>{"use strict";i.d(t,{formatterOptions:()=>o,numberToStringWithLeadingZero:()=>r});var s=i(389137);const o={decimalSign:".",decimalSignFractional:"'"};function r(e,t){if(!(0,s.isNumber)(e))return"n/a";if(!(0,s.isInteger)(t))throw new TypeError("invalid length");if(t<0||t>24)throw new TypeError("invalid length");if(0===t)return e.toString();return("0000000000000000"+e.toString()).slice(-t)}},305138:(e,t,i)=>{
"use strict";i.d(t,{DecimalPriceFormatterImpl:()=>_});var s=i(960521),o=i(201089),r=i(839878),n=i(702053);const a=new Map;const l=new Map;const c=(0,o.getLogger)("Chart.DecimalPriceFormatter");class _ extends r.PriceFormatterImplementationBase{constructor(e,t,i,s,o,r){super(e,t,i,s,o,r),void 0!==i&&10!==i&&0!==i&&1!==i&&c.logDebug("invalid minmove2")}hasForexAdditionalPrecision(){return 10===this._minMove2}_parseUnsigned(e){return this._parseAsDecimal(e)}_formatUnsigned(e,t,i,s){const o={price:Math.abs(e),priceScale:this._priceScale,minMove:this._minMove,fractionalLength:this._fractionalLength,tailSize:t,cutFractionalByPrecision:i};return void 0!==this._variableMinTickData&&(Object.assign(o,(0,r.variableMinTickParamsByPrice)(!1,this._variableMinTickData,null!=s?s:o.price)),this._ignoreMinMove&&(o.minMove=1)),this._formatAsDecimal(o)}_formatAsExponential(e){const t=Math.floor(.75*Math.log10(this._priceScale)),i=e*Math.pow(10,t),s=`e-${t}`,o=Math.log10(this._priceScale)-t;return`${i.toFixed(o).replace(".",n.formatterOptions.decimalSign)}${s}`}_formatAsDecimal(e){const{price:t,priceScale:i,minMove:o,fractionalLength:r=0,tailSize:a=0,cutFractionalByPrecision:l}=e;if(i>1e15)return this._formatAsExponential(t);const c=Math.pow(10,a)*i/(l?1:o),_=1/c;let u;if(c>1)u=Math.floor(t);else{const e=Math.floor(Math.round(t/_)*_);u=0===Math.round((t-e)/_)?e:e+_}let d="";if(c>1){let e=l?new s.Big(t).mul(c).round(void 0,0).minus(new s.Big(u).mul(c)).toNumber():parseFloat((Math.round(t*c)-u*c).toFixed(r));e>=c&&(e-=c,u+=1);const i=l?new s.Big(e).round(r,0).toNumber():parseFloat(e.toFixed(r))*o;d=n.formatterOptions.decimalSign+(0,n.numberToStringWithLeadingZero)(i,r+a),d=this._removeEndingZeros(d,a)}return u.toString()+d}_parseAsDecimal(e){if(e.includes("e")){if(function(e){let t=a.get(e);return t||(t=new RegExp("^(-?)[0-9]+\\"+e+"[0-9]*e(-?)[0-9]+$"),a.set(e,t)),t}(n.formatterOptions.decimalSign).exec(e)){const t=parseFloat(e.replace(n.formatterOptions.decimalSign,"."));return{value:t,res:!0,suggest:this.formatImpl(t)}}return{error:this._formatterErrors.custom,res:!1}}let t=r.intRegexp.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=function(e){let t=l.get(e);return t||(t=new RegExp("^(-?)[0-9]+\\"+n.formatterOptions.decimalSign+"[0-9]*$"),l.set(e,t)),t}(n.formatterOptions.decimalSign).exec(e),t){const t=parseFloat(e.replace(n.formatterOptions.decimalSign,"."));return{value:t,res:!0,suggest:this.formatImpl(t)}}return{error:this._formatterErrors.custom,res:!1}}}},998454:(e,t,i)=>{"use strict";i.d(t,{FractionalPriceFormatterImpl:()=>l});var s=i(650151),o=i(201089),r=i(839878),n=i(702053);const a=(0,o.getLogger)("Chart.FractionalPriceFormatter");class l extends r.PriceFormatterImplementationBase{constructor(e,t,i,s,o,r){super(e,t,i,s,o,r),void 0!==i&&i>0&&2!==i&&4!==i&&8!==i&&a.logDebug("invalid minmove2")}hasForexAdditionalPrecision(){return!1}_parseUnsigned(e){return this._minMove2?this._parseAsDoubleFractional(e):this._parseAsSingleFractional(e)}_formatUnsigned(e,t,i,o){const n={
price:Math.abs(e),priceScale:this._priceScale,minMove:this._minMove,minMove2:this._minMove2,fractionalLength:(0,s.ensureDefined)(this._fractionalLength),tailSize:t};return void 0!==this._variableMinTickData&&Object.assign(n,(0,r.variableMinTickParamsByPrice)(!0,this._variableMinTickData,null!=o?o:n.price)),this._formatAsFractional(n)}_parseAsSingleFractional(e){let t=r.intRegexp.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=new RegExp("^(-?)([0-9]+)\\"+n.formatterOptions.decimalSignFractional+"([0-9]+)$").exec(e),t){const e=!!t[1],i=parseInt(t[2]),s=this._priceScale,o=this._patchFractPart(parseInt(t[3]),1,s);if(o>=s||o<0)return{error:this._formatterErrors.fraction,res:!1};let r=i+o/s;return e&&(r=-r),{value:r,res:!0,suggest:this.formatImpl(r)}}return{error:this._formatterErrors.custom,res:!1}}_parseAsDoubleFractional(e){let t=r.intRegexp.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=new RegExp("^(-?)([0-9]+)\\"+n.formatterOptions.decimalSignFractional+"([0-9]+)\\"+n.formatterOptions.decimalSignFractional+"([0-9]+)$").exec(e),t){const e=!!t[1],i=parseInt(t[2]),s=void 0!==this._minMove2?this._minMove2:NaN,o=this._priceScale/s,r=this._minMove2,n=this._patchFractPart(parseInt(t[3]),1,o),a=this._patchFractPart(parseInt(t[4]),2,r);if(n>=o||n<0)return{error:this._formatterErrors.fraction,res:!1};if(void 0!==r&&a>=r||a<0)return{error:this._formatterErrors.secondFraction,res:!1};let l=void 0!==r?i+n/o+a/(o*r):NaN;return e&&(l=-l),{value:l,res:!0,suggest:this.formatImpl(l)}}return{error:this._formatterErrors.custom,res:!1}}_patchFractPart(e,t,i){const s={0:0,5:1},o={0:0,2:1,5:2,7:3},r={0:0,1:1,2:2,3:3,5:4,6:5,7:6,8:7};return 2===i?void 0===s[e]?-1:s[e]:4===i?void 0===o[e]?-1:o[e]:8===i&&2===t?void 0===r[e]?-1:r[e]:e}_formatAsFractional(e){const{price:t,tailSize:i,priceScale:s,minMove:o,minMove2:r,fractionalLength:a}=e,l=s/o;let c=Math.floor(t),_=i?Math.floor(t*l)-c*l:Math.round(t*l)-c*l;_===l&&(_=0,c+=1);let u="";if(i){let e=(t-c-_/l)*l;e=Math.round(e*Math.pow(10,i)),u=(0,n.numberToStringWithLeadingZero)(e,i),u=this._removeEndingZeros(u,i)}if(!a)throw new Error("_fractionalLength is not calculated");let d="";if(r){const e=_%r;_=(_-e)/r;const t=(0,n.numberToStringWithLeadingZero)(_,a),i=this._getFractPart(e,2,r);d=t+n.formatterOptions.decimalSignFractional+i}else _=this._getFractPart(_,1,s),d=(0,n.numberToStringWithLeadingZero)(_*o,a);return c.toString()+n.formatterOptions.decimalSignFractional+d+u}_getFractPart(e,t,i){const s=[0,5],o=[0,2,5,7],r=[0,1,2,3,5,6,7,8];return 2===i?void 0===s[e]?-1:s[e]:4===i?void 0===o[e]?-1:o[e]:8===i&&2===t?void 0===r[e]?-1:r[e]:e}}},839878:(e,t,i)=>{"use strict";i.d(t,{PriceFormatterImplementationBase:()=>_,calculateDecimal:()=>l,intRegexp:()=>a,variableMinTickParamsByPrice:()=>c});var s=i(650151),o=i(444372),r=i(217504),n=i(31341);const a=new RegExp(/^(-?)[0-9]+$/);function l(e,t,i,s){let o=0;if(e>0&&t>0){let t=e;for(i&&s&&(t/=s);t>1;)t/=10,o++}return o}function c(e,t,i){const o=(0,s.ensureNotNull)((0,
r.getMinTickData)({price:i,minTick:null,variableMinTickData:t,shouldCheckForEquality:!0})),{priceScale:n,minMove:a,minMove2:c}=o;return{priceScale:n,minMove:a,fractionalLength:l(n,a,e,c)}}class _{constructor(e,t,s,n,a,l){this._formatterErrors={custom:o.t(null,void 0,i(332061)),fraction:o.t(null,void 0,i(142015)),secondFraction:o.t(null,void 0,i(643247))},this._priceScale=e,this._minMove=t,this._minMove2=s,this._ignoreMinMove=a,this._variableMinTickData=void 0===n?void 0:(0,r.makeVariableMinTickData)({priceScale:e,minMove:t,minMove2:s},n),this._fractionalLength=l}formatImpl(e,t,i,s=!0,o=!0,r=!1,a){let l="";e<0?l=!1===s?"":"":e&&!0===t&&(l="+");const c=l+this._formatUnsigned(Math.abs(e),i,r,a);return o?(0,n.forceLTRStr)(c):c}parse(e){return"+"===(e=(e=(0,n.stripLTRMarks)(e)).replace("","-"))[0]&&(e=e.substring(1)),this._parseUnsigned(e)}_removeEndingZeros(e,t){for(let i=0;i<t&&"0"===e[e.length-1];i++)e=e.substring(0,e.length-1);return e}}},230648:(e,t,i)=>{"use strict";var s,o;i.d(t,{ResponseMethods:()=>s}),function(e){e.error="replay_error",e.point="replay_point",e.ok="replay_ok",e.resolutions="replay_resolutions",e.endOfData="replay_data_end",e.instanceId="replay_instance_id",e.replayDepth="replay_depth"}(s||(s={})),function(e){e.tooSmallDelay="too_small_delay",e.alreadyInAutoplay="already_in_autoplay",e.nothingToStop="nothing_to_stop",e.pointTooDeep="point_too_deep",e.alreadyInSession="already_in_session",e.thereIsNoSuchSeries="no_series",e.notAllowedInAutoplay="not_allow_in_autoplay",e.invalidResolution="invalid_resolution"}(o||(o={}))},120780:(e,t,i)=>{"use strict";i.d(t,{fetch:()=>o});const s=(0,i(201089).getLogger)("Fetch");function o(e,t,i={}){{const{logOnErrorStatus:o=!0,logBodyOnError:r=!1}=i;t=t||{},function(e){return new URL(e,document.baseURI).origin===location.origin}(e)&&(t.headers?t.headers instanceof Headers||(t.headers=new Headers(t.headers)):t.headers=new Headers,window.locale&&t.headers.set("X-Language",window.locale),t.headers.set("X-Requested-With","XMLHttpRequest")),void 0===t.credentials&&(t.credentials="same-origin");const n=window.fetch(e,t);return n.then((i=>{if(!i.ok&&o){let o="";t.method&&(o+=`${t.method.toUpperCase()} `),o+=e,o+=`. Status ${i.status}`,i.statusText&&(o+=`. ${i.statusText}`),i.headers.via&&(o+=`. Via: ${i.headers.via}`),r&&"string"==typeof t.body&&(o+=`. Body: ${t.body.slice(0,1024)}`),s.logError(o)}return i}),(i=>{if(i&&"AbortError"===i.name)return;let o="";t.method&&(o+=`${t.method.toUpperCase()} `),o+=e,navigator.onLine?o+=`. ${i}`:o+=". User is offline.",s.logError(o)})),n}}},16188:(e,t,i)=>{"use strict";function s(e,t,i,s,o){let r="";if(s=s?"; path="+s:"",o=o?"; domain="+o:"",i){const e=new Date;e.setTime(e.getTime()+24*i*60*60*1e3),r="; expires="+e.toUTCString()}else r="";document.cookie=e+"="+t+r+o+s}function o(e){const t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let s=i[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null}i.d(t,{get:()=>o,set:()=>s})},268222:(e,t,i)=>{
"use strict";function s(){let e,t;return{promise:new Promise(((i,s)=>{e=i,t=s})),reject:t,resolve:e}}i.d(t,{createDeferredPromise:()=>s})},928691:(e,t,i)=>{"use strict";function s(e){if(void 0===e)return"";if(e instanceof Error){let t=e.message;return e.stack&&(t+=" "+e.stack),t}return"string"==typeof e?e.toString():JSON.stringify(e)}i.d(t,{errorToString:()=>s})},541558:(e,t,i)=>{"use strict";i.r(t),i.d(t,{guid:()=>o,randomHash:()=>r,randomHashN:()=>n});const s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function r(){return n(12)}function n(e){let t="";for(let i=0;i<e;++i){const e=Math.floor(Math.random()*s.length);t+=s[e]}return t}},102710:e=>{"use strict";e.exports=JSON.parse('{"cme":{"INDICATORS_ON_CHART":{"limit":99999}},"bovespa":{"INDICATORS_ON_CHART":{"limit":99999}},"qecomqa":{"INDICATORS_ON_CHART":{"limit":99999}}}')},409352:e=>{"use strict"
;e.exports=JSON.parse('{"free":{"CHART_STORAGE":{"limit":1},"MULTIPLE_CHARTS":{"limit":1},"INDICATORS_ON_CHART":{"limit":2},"FUNDAMENTALS_ON_CHART":{"limit":1},"HISTORICAL_BARS":{"limit":5},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":1,"complex_limit":1,"primitive_limit":5},"SCREENER_ALERTS":{"limit":1},"SCREENER_INTERVALS":{"interval":["1D","1W","1M"]},"STUDY_TEMPLATES":{"limit":1},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":2},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":1},"WATCHLIST_SYMBOLS":{"limit":30},"VIDEO_IDEAS_LENGTH":{"limit":20}},"__legacy_pro":{"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":99999},"FUNDAMENTALS_ON_CHART":{"limit":4},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":99999},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":20},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_NEW_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"MULTIFLAGGED_SYMBOLS_LISTS":{},"BAR_REPLAY_INTRADAY":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"STREAMS_ACCESS":{"followers":10},"SMS_2FA_VERIFICATION":{"disable_on_trial":true},"SOCIAL_ACTIVITY":{"disable_on_trial":true},"WATCHLIST_SYMBOLS":{"limit":1000}},"__legacy_pro_realtime":{"extends":"__legacy_pro","BACKEND_CONNECTIONS":{"limit":20},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":1000},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"BACKTESTING_EXPORT":{},"FUNDAMENTALS_ON_CHART":{"limit":7}},"__legacy_pro_premium":{"extends":"__legacy_pro_realtime","BACKEND_CONNECTIONS":{"limit":50},"CHART_PATTERNS":{"study_packages":["tv-chartpatterns","tv-chart_patterns"]},"USE_BAR_MAGNIFIER":{},"HISTORICAL_BARS":{"limit":20},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{},"FUNDAMENTALS_ON_CHART":{"limit":10},"VIDEO_IDEAS_LENGTH":{"limit":60}},"pro":{"CHART_STORAGE":{"limit":5},"MULTIPLE_CHARTS":{"limit":2},"MARKET_DATA_LIMITS":{"limit":2,"primitive_limit":2},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":5},"FUNDAMENTALS_ON_CHART":{"limit":4},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":20,"complex_limit":20,"primitive_limit":20},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_NEW_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_NEW_EXPORT_CSV_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":1},"MULTIFLAGGED_SYMBOLS_LISTS":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":7},"INTRADAY_EXCHANGE":{},"VOLUME_PROFILE":{},"STREAMS_ACCESS":{"followers":10},"SMS_2FA_VERIFICATION":{"disable_on_trial":true},"SOCIAL_ACTIVITY":{"disable_on_trial":true},"WATCHLIST_SYMBOLS":{"limit":1000},"CUSTOM_RANGE_BARS":{},"FASTEST_DATA_FLOW":{}},"pro_realtime":{"extends":"pro","CHART_STORAGE":{"limit":10},"MULTIPLE_CHARTS":{"limit":4},"MARKET_DATA_LIMITS":{"limit":4,"primitive_limit":4},"INDICATORS_ON_CHART":{"limit":10},"FUNDAMENTALS_ON_CHART":{"limit":7},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":9},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":100,"complex_limit":100,"primitive_limit":100},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"BACKEND_CONNECTIONS":{"limit":20},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"KAGI_RENKO":{},"INTRADAY_SPREAD":{},"CUSTOM_CHATS":{},"BACKTESTING_EXPORT":{}},"pro_premium":{"extends":"pro_realtime","USE_BAR_MAGNIFIER":{},"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"MARKET_DATA_LIMITS":{"limit":6,"primitive_limit":6},"INDICATORS_ON_CHART":{"limit":25},"FUNDAMENTALS_ON_CHART":{"limit":10},"CHART_PATTERNS":{"study_packages":["tv-chartpatterns","tv-chart_patterns"]},"HISTORICAL_BARS":{"limit":20},"STUDY_ON_STUDY":{"limit":800,"child_limit":24},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":400,"complex_limit":400,"primitive_limit":400},"SIMULTANEOUS_CONNECTIONS":{"limit":2},"BACKEND_CONNECTIONS":{"limit":50},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":4},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{},"TPO_PERIODIC":{"study_packages":["tv-volumebyprice"]},"TPO_CHART_STYLE":{},"VOLUME_CANDLES":{},"VIDEO_IDEAS_LENGTH":{"limit":60}},"pro_expert":{"extends":"pro_premium","INDICATORS_ON_CHART":{"limit":30},"FUNDAMENTALS_ON_CHART":{"limit":15},"STUDY_ON_STUDY":{"limit":800,"child_limit":29},"MULTIPLE_CHARTS":{"limit":10},"MARKET_DATA_LIMITS":{"limit":12,"primitive_limit":12},"HISTORICAL_BARS":{"limit":25},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":600,"complex_limit":600,"primitive_limit":600},"BACKEND_CONNECTIONS":{"limit":80},"BAR_REPLAY_INTRADAY":{"limit":6},"EXPORT_FINANCIALS_DATA":{},"TICK_INTERVALS":{},"FIRST_PRIORITY_SUPPORT":{},"BUY_PRO_DATA":{}},"pro_realtime_expert":{"extends":"pro_expert","INDICATORS_ON_CHART":{"limit":35},"FUNDAMENTALS_ON_CHART":{"limit":20},"STUDY_ON_STUDY":{"limit":800,"child_limit":34},"MULTIPLE_CHARTS":{"limit":12},"MARKET_DATA_LIMITS":{"limit":20,"primitive_limit":20},"HISTORICAL_BARS":{"limit":30},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":800,"complex_limit":800,"primitive_limit":800},"BACKEND_CONNECTIONS":{"limit":120},"BAR_REPLAY_INTRADAY":{"limit":8}},"pro_premium_expert":{"extends":"pro_realtime_expert","INDICATORS_ON_CHART":{"limit":50},"FUNDAMENTALS_ON_CHART":{"limit":25},"STUDY_ON_STUDY":{"limit":800,"child_limit":49},"MULTIPLE_CHARTS":{"limit":16},"MARKET_DATA_LIMITS":{"limit":99999,"primitive_limit":25},"HISTORICAL_BARS":{"limit":40},"SERVER_SIDE_ALERTS":{"overall_limit":4000,"limit":1000,"complex_limit":1000,"primitive_limit":1000},"BACKEND_CONNECTIONS":{"limit":200},"BAR_REPLAY_INTRADAY":{"limit":10}}}')
}}]);